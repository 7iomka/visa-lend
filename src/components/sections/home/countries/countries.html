<section class="section countries">
  {# Coutries categories #}
  <div class="countries__categories">
    {% for category in categories %}
      <div class="countries__category countries__category--{{ category.slug }} {% if loop.first %}active{% endif %}" data-category="{{ category.slug }}">
        <div class="countries__category-inner text-center">
          <h2 class="section__title section__title--underlined countries__category-title countries__category-title--{{ category.slug }}">{{ category.name }}</h2>
        </div>

      </div>
    {% endfor %}
  </div>
  {# Coutries tables #}
  <div class="countries__tables">
    <div class="container">
      {% for category in categories %}
        {% for table in category.tables %}
          {% set tableClassName = 'table--country--'+ table.country.code + ' hidden'%}
          {% set tableSettings = {
            customClassList: tableClassName
          } %}
          {% render "@responsive-table--country",
          table|objAssign(tableSettings),
          true %}
        {% endfor %}
      {% endfor %}
    </div>
  </div>

  {# Countries sliders with countries #}
  <div class="countries__sliders">
    <div class="container">
      {% for category in categories %}
      <div class="countries__slider countries__slider--{{ category.slug }} {% if not loop.first %}hidden{% endif %}" data-category="{{ category.slug }}">
        <div class="swiper-container">
          <div class="swiper-wrapper">
            {% for table in category.tables %}
              {% set country_name = table.country.name %}
              {% set country_code = table.country.code %}
              {% set startPrice = table.country.startPrice %}
              <div class="swiper-slide countries__slide" data-country="{{ country_name }}" data-category="{{ category.slug }}">
                {# Country-block component #}
                <div class="country-block" data-country="{{ country_name }}" data-country-code="{{ country_code }}" data-category="{{ category.slug }}">
                  <div class="country-block__label">
                    <div class="country-block__flag">
                      <i title="{{ country_name }}" alt="{{ country_name }}" class="flag-icon flag-icon--{{ country_code }} flag-icon--squared country-block__flag-icon"></i>
                    </div>
                    <h3 class="country-block__country-name" title="{{ country_name  }}">{{ country_name  }}</h3>
                  </div>
                  <div class="country-block__data-container">
                    <div class="country-block__time">
                      <span class="country-block__time-before"><span class="country-block__time-before-icon ei-icon ei-clock_alt"></span></span>
                      <span class="country-block__time-value">
                        <nobr> от 3 дней</nobr>
                      </span>
                    </div>
                    <div class="country-block__price">
                      <span class="country-block__price-before"><span class="country-block__price-before-icon ei-icon ei-wallet"></span><span class="country-block__price-before-prefix">от</span></span>
                      <span class="country-block__price-value">
                        <nobr>{{ startPrice }}&nbsp;₽</nobr>
                      </span>
                    </div>
                  </div>
                  <div class="country-block__detail">
                    <button class="c-button c-button--secondary country-block__detail-button">
                      Подробнее
                    </button>
                  </div>
                </div>
              </div>
            {% endfor %}
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>

</section>
